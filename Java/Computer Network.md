## [计算机网络常见面试题](https://blog.csdn.net/sdgihshdv/article/details/79503274)

#### OSI七层模型、TCP/IP四层模型、五层协议
- **OSI七层模型：** 应用层、（表示层、会话层）、传输层、网络层、（数据链路层、物理层）。
- **TCP/IP四层模型：** 应用层、传输层、网络层、网络接口层。
- **五层体系结构：** 应用层、传输层（段）、网络层（包）、数据链路层（帧）、物理层（比特流）。

#### TCP为什么需要3次握手，4次断开？
- **3次握手：**
  - 客户端A发送SYN报文，服务端B接收到后若确认连接，则返回确认连接报文段，A收到报文段后（A连接已建立），还需要向B发送连接报文段，B接收到后连接建立。
  - 为了防止客户端A已失效的链接请求发送到服务端B时，引起的服务端B资源浪费。如A发出的连接请求由于种种原因延迟了，失效了，但过了一段时间B收到了，若只用2次握手，B此时决定建立连接。但此连接是已失效的，B在等待A数据过程中，浪费了资源。
- **4次挥手：**
  - 客户端发送FIN连接释放报文后，服务端接收到这个报文立即回复ACK=1报文，此时客户端到服务端的单向连接已断开，而服务端进入close-wait状态，是为了等待所有数据都发送到客户端，再发送FIN连接释放报文。
  - 客户端接收到FIN释放报文后回复ACK=1报文，不会直接进入CLOSED状态，而是进入Time_Wait状态，需等待一个时间计时器设置的时间2MSL = 2*2mins = 4mins，这样做是为了确认最后A向B发送的报文能够到达，并等待本连接产生的所有报文段在网络中消失。

#### TCP和UDP有什么区别？
- **用户数据报协议UDP:** 无连接；尽最大可能交付；无拥塞控制；支持一对一、一对多、多对一、多对多；应用:视频通信、实时通信。
- **传输控制协议TCP:** 面向连接；提供可靠交付；有流量控制、拥塞控制；提供全双工通信，面向字节流；每条TCP连接只能一对一。

#### 交换机与路由器有什么区别？
- **交换机：** 有下面两层协议；根据MAC地址确定目的地址；交换机只负责分配网络数据，每个用户使用不同IP；不可以处理TCP/IP协议；交换机一般用于端口扩展，让局域网可以接进来更多电脑。
- **路由器：** 有下面三层协议；根据IP地址确定目的地址；路由器有虚拟拨号，给局域网用户自动分配IP，对外只表现一个IP；可以处理TCP/IP协议；路由器做网间连接，用来连接不同的网络。

#### TCP/IP的流量控制？
- 流量控制是为了控制发送方的发送速率，保证接收方来得及接收；
- 接收方发送的确认报文中的窗口字段可用来控制发送方的窗口大小，从而影响发送方的发送速率。将窗口字段设置为0，则发送方不能发送数据。

#### TCP拥塞控制？
- **四种算法：** 慢开始、拥塞避免、快重传、快恢复。
  - **慢开始：** cwnd = 1, cwnd = 2 * cwnd。
  - **拥塞避免：** 当cwnd >= ssthresh时进入，cwnd = cwnd + 1；如果出现超时，则ssthresh = cwnd / 2，然后重新执行慢开始。
  - **快重传：** 发送方收到三个重复确认，可以知道此确认的下一个报文段丢失，执行快重传，例如连续收到三个M2，则M3丢失，立即重传M3。
  - **快恢复：** 慢开始和快恢复的快慢指的是cwnd的设定值。慢开始将cwnd设定为1，快恢复将cwnd设置为ssthresh，注意此时直接进入拥塞避免。

#### ARP是地址解析协议，简单语言解释一下工作原理。
- 将IP地址通过广播，根据目标IP地址解析到MAC地址。

#### DHCP协议？
- 客户机请求IP；（客户机发DHCPDISCOVER广播包）
- 服务器响应；（服务器发DHCPOFFER广播包）
- 客户机选择IP；（客户机发DHCPREQUEST广播包）
- 服务器确定租约。（服务器发DHCPACK/DHCPNAK广播包）


#### 数据链路层协议可能提供的服务？
- 差错检验（不纠错），检测到错误丢掉该帧。

#### 运输层协议与网络层协议的区别？
- 运输层提供进程间的通用数据传输服务，包括两种协议：TCP完整性服务，UDP及时性服务；
- 网络层提供主机间数据传输服务，负责选择IP地址最佳路径，路由器查看数据包目标IP地址，根据路由表为数据包选择路径。


#### 说说静态路由和动态路由有什么区别。
- **静态路由：** 路由表类目人工添加；
- **动态路由：** 路由表类目动态生成。

#### HTTP的长连接和短连接？
- HTTP/1.0默认使用短链接，客户端和服务器每进行一次HTTP操作，就建立一次连接，任务结束中断连接。每遇到新Web资源（如JS、CSS、图像等），就要新建立一个HTTP会话，这样浪费额外资源。
- HTTP/1.1开始默认使用长连接，保持连接特性。当打开一个网页后，客户端和服务期间用于传输HTTP数据的TCP连接不会关闭。
- HTTP协议长连接和短链接，实质上是TCP协议的长连接和短链接。

#### HTTP协议包括哪些请求？
- **GET：** 对服务器资源的简单请求；
- **POST:** 用于发送包含用户提交数据的请求；
- **HEAD：** 类似GET请求，不过只返回报头，没有具体内容；
- **DELETE：** 发出一个删除指定文档的请求；
- **TRACE：** 发送一个请求副本，跟踪其处理进程；
- **OPTIONS：** 返回可用的方法，检查服务器支持的方法；
- **CONNECT:** 用于ssl隧道基于代理的请求。

#### 简述GET和POST的区别？
- GET用于信息获取，是安全和幂等的，安全代表其不会增删改服务器上的内容，幂等代表多次相同操作返回相同；
- POST请求可能修改服务器上资源；
- GET请求数据附在URL后面，而POST在HTTP包体内；
- POST安全性比GET高。

#### 子网掩码作用？
- 测量多个IP是否在同一网段的工具；
- 例如IP-192.168.1.199，子网掩码-255.255.255.0，则可以得到此IP地址的网络号为192.168.1，主机号为199。